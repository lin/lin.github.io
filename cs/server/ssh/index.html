<!doctype html><html><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>- Yingkui</title><meta name=viewport content="width=device-width,initial-scale=1">
<meta itemprop=name content="Yingkui"><meta itemprop=description content="SSH (Secure Shell) Create a new user # create the user sudo adduser ubuntu # User Modification, --append, --Group add ubuntu to sudo group # sudo means superuser do usermod -a -G sudo ubuntu # switch user su ubuntu Generate key-pair # generate # id_rsa is private, id_rsa.pub # RSA is Rivest-Shamir-Adleman, the name of the algorithm ssh-keygen # authorize the public key cat ~/.ssh/id_rsa.pub >> ~/.ssh/authorized_keys # display private key, so you can copy this to your local computer # remember to add a newline at the end of the file cat ~/.ssh/id_rsa Change pem file mode Private key should have permission 0600 while your public key have permission 0644."><meta itemprop=wordCount content="155"><meta property="og:url" content="https://yingkui.com/cs/server/ssh/"><meta property="og:site_name" content="Yingkui"><meta property="og:title" content="Yingkui"><meta property="og:description" content="SSH (Secure Shell) Create a new user # create the user sudo adduser ubuntu # User Modification, --append, --Group add ubuntu to sudo group # sudo means superuser do usermod -a -G sudo ubuntu # switch user su ubuntu Generate key-pair # generate # id_rsa is private, id_rsa.pub # RSA is Rivest-Shamir-Adleman, the name of the algorithm ssh-keygen # authorize the public key cat ~/.ssh/id_rsa.pub >> ~/.ssh/authorized_keys # display private key, so you can copy this to your local computer # remember to add a newline at the end of the file cat ~/.ssh/id_rsa Change pem file mode Private key should have permission 0600 while your public key have permission 0644."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="cs"><meta name=twitter:card content="summary"><meta name=twitter:title content="Yingkui"><meta name=twitter:description content="SSH (Secure Shell) Create a new user # create the user sudo adduser ubuntu # User Modification, --append, --Group add ubuntu to sudo group # sudo means superuser do usermod -a -G sudo ubuntu # switch user su ubuntu Generate key-pair # generate # id_rsa is private, id_rsa.pub # RSA is Rivest-Shamir-Adleman, the name of the algorithm ssh-keygen # authorize the public key cat ~/.ssh/id_rsa.pub >> ~/.ssh/authorized_keys # display private key, so you can copy this to your local computer # remember to add a newline at the end of the file cat ~/.ssh/id_rsa Change pem file mode Private key should have permission 0600 while your public key have permission 0644."><link href='https://fonts.googleapis.com/css?family=Playfair+Display:700' rel=stylesheet type=text/css><link rel=stylesheet type=text/css media=screen href=https://yingkui.com/css/normalize.css><link rel=stylesheet type=text/css media=screen href=https://yingkui.com/css/main.css><link id=dark-scheme rel=stylesheet type=text/css href=https://yingkui.com/css/dark.css><link rel=stylesheet type=text/css href=https://yingkui.com/css/custom.css><script src=https://yingkui.com/js/feather.min.js></script><script src=https://yingkui.com/js/main.js></script></head><body><div class="container wrapper"><div class=header><div class=avatar><a href=https://yingkui.com/><img src=/logo-ai.jpg alt=Yingkui></a></div><h1 class=site-title><a href=https://yingkui.com/>Yingkui</a></h1><div class=site-description><p>Solving Problems. Making Progress.</p><nav class="nav social"><ul class=flat><li><a href=https://bsky.app/profile/yingkui.bsky.social title=Bluesky><i data-feather=twitter></i></a></li></ul></nav></div><nav class=nav><ul class=flat></ul></nav></div><div class=post><div class=post-header><div class=matter><h1 class=title></h1></div></div><div class=markdown><h2 id=ssh-secure-shell>SSH (Secure Shell)</h2><h3 id=create-a-new-user>Create a new user</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># create the user</span>
</span></span><span style=display:flex><span>sudo adduser ubuntu 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># User Modification, --append, --Group add ubuntu to sudo group</span>
</span></span><span style=display:flex><span><span style=color:#75715e># sudo means superuser do</span>
</span></span><span style=display:flex><span>usermod -a -G sudo ubuntu
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># switch user</span>
</span></span><span style=display:flex><span>su ubuntu
</span></span></code></pre></div><h3 id=generate-key-pair>Generate key-pair</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># generate </span>
</span></span><span style=display:flex><span><span style=color:#75715e># id_rsa is private, id_rsa.pub</span>
</span></span><span style=display:flex><span><span style=color:#75715e># RSA is Rivest-Shamir-Adleman, the name of the algorithm</span>
</span></span><span style=display:flex><span>ssh-keygen
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># authorize the public key</span>
</span></span><span style=display:flex><span>cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys
</span></span><span style=display:flex><span><span style=color:#75715e># display private key, so you can copy this to your local computer</span>
</span></span><span style=display:flex><span><span style=color:#75715e># remember to add a newline at the end of the file</span>
</span></span><span style=display:flex><span>cat ~/.ssh/id_rsa
</span></span></code></pre></div><h3 id=change-pem-file-mode>Change pem file mode</h3><p>Private key should have permission 0600 while your public key have permission 0644.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># at your local computer</span>
</span></span><span style=display:flex><span><span style=color:#75715e># remember to add a newline at the end of the file for pem</span>
</span></span><span style=display:flex><span>chmod <span style=color:#ae81ff>0600</span> ~/.ssh/app.pem
</span></span></code></pre></div><h4 id=disable-password-auth>Disable Password Auth</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo vim /etc/ssh/sshd_config
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># set these to no</span>
</span></span><span style=display:flex><span>KbdInteractiveAuthentication no
</span></span><span style=display:flex><span>PasswordAuthentication no
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># restart ssh</span>
</span></span><span style=display:flex><span>sudo systemctl restart ssh
</span></span></code></pre></div></div><div class=tags></div></div></div><div class="footer wrapper"><nav class=nav><div>2025 Â© Copyright Yingkui.com All Rights Reserved</div></nav></div><script>feather.replace()</script></body></html>