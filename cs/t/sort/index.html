<!doctype html><html><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Sort - Yingkui</title><meta name=viewport content="width=device-width,initial-scale=1">
<meta itemprop=name content="Sort"><meta itemprop=description content="Merge and Quick are more important Bubble, switch, forwards def bubble(nums): for i in range(n): for j in range(n - 1 - i): if nums[j] > nums[j+1]: nums[j], nums[j+1] = nums[j+1], nums[j] return nums Insert, switch, backwords def insert(nums): for i in range(1, n): for j in range(i, 0, -1): if nums[j - 1] > nums[j]: nums[j - 1], nums[j] = nums[j], nums[j - 1] return nums def insert(nums): for"><meta itemprop=wordCount content="507"><meta property="og:url" content="https://yingkui.com/cs/t/sort/"><meta property="og:site_name" content="Yingkui"><meta property="og:title" content="Sort"><meta property="og:description" content="Merge and Quick are more important Bubble, switch, forwards def bubble(nums): for i in range(n): for j in range(n - 1 - i): if nums[j] > nums[j+1]: nums[j], nums[j+1] = nums[j+1], nums[j] return nums Insert, switch, backwords def insert(nums): for i in range(1, n): for j in range(i, 0, -1): if nums[j - 1] > nums[j]: nums[j - 1], nums[j] = nums[j], nums[j - 1] return nums def insert(nums): for"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="cs"><meta name=twitter:card content="summary"><meta name=twitter:title content="Sort"><meta name=twitter:description content="Merge and Quick are more important Bubble, switch, forwards def bubble(nums): for i in range(n): for j in range(n - 1 - i): if nums[j] > nums[j+1]: nums[j], nums[j+1] = nums[j+1], nums[j] return nums Insert, switch, backwords def insert(nums): for i in range(1, n): for j in range(i, 0, -1): if nums[j - 1] > nums[j]: nums[j - 1], nums[j] = nums[j], nums[j - 1] return nums def insert(nums): for"><link href='https://fonts.googleapis.com/css?family=Playfair+Display:700' rel=stylesheet type=text/css><link rel=stylesheet type=text/css media=screen href=https://yingkui.com/css/normalize.css><link rel=stylesheet type=text/css media=screen href=https://yingkui.com/css/main.css><link id=dark-scheme rel=stylesheet type=text/css href=https://yingkui.com/css/dark.css><link rel=stylesheet type=text/css href=https://yingkui.com/css/custom.css><script src=https://yingkui.com/js/feather.min.js></script><script src=https://yingkui.com/js/main.js></script><link rel=stylesheet href=https://yingkui.com/css/katex.min.css><script defer src=https://yingkui.com/js/katex.min.js></script><script defer src=https://yingkui.com/js/mhchem.min.js></script><script defer src=https://yingkui.com/js/auto-render.min.js></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],throwOnError:!1})})</script></head><body><div class="container wrapper"><div class=header><div class=avatar><a href=https://yingkui.com/><img src=/logo-ai.jpg alt=Yingkui></a></div><h1 class=site-title><a href=https://yingkui.com/>Yingkui</a></h1><div class=site-description><p>Solving Problems. Making Progress.</p><nav class="nav social"><ul class=flat><li><a href=https://github.com/lin title=Github><i data-feather=github></i></a></li><li><a href=https://youtube.com/@yingkui title=YouTube><i data-feather=youtube></i></a></li></ul></nav></div><nav class=nav><ul class=flat><li><a href=/>随想</a></li><li><a href=/edu>《教学》</a></li><li><a href=/life>《人生》</a></li><li><a href=/ai>《智力》</a></li><li><a href=/about>关于</a></li></ul></nav></div><div class=post><div class=post-header><div class=matter><h1 class=title>Sort</h1></div></div><div class=markdown><blockquote><p>Merge and Quick are more important</p></blockquote><h3 id=bubble-switch-forwards>Bubble, switch, forwards</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>bubble</span>(nums):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(n):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> j <span style=color:#f92672>in</span> range(n <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span> i):
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> nums[j] <span style=color:#f92672>&gt;</span> nums[j<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>]:
</span></span><span style=display:flex><span>                nums[j], nums[j<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> nums[j<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>], nums[j]
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> nums
</span></span></code></pre></div><h3 id=insert-switch-backwords>Insert, switch, backwords</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>insert</span>(nums):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(<span style=color:#ae81ff>1</span>, n):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> j <span style=color:#f92672>in</span> range(i, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>):
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> nums[j <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>] <span style=color:#f92672>&gt;</span> nums[j]:
</span></span><span style=display:flex><span>                nums[j <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>], nums[j] <span style=color:#f92672>=</span> nums[j], nums[j <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> nums
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>insert</span>(nums):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(<span style=color:#ae81ff>1</span>, n):
</span></span><span style=display:flex><span>        curr <span style=color:#f92672>=</span> nums[i]
</span></span><span style=display:flex><span>        j <span style=color:#f92672>=</span> i <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> j <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>and</span> nums[j] <span style=color:#f92672>&gt;</span> curr:
</span></span><span style=display:flex><span>            nums[j <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> nums[j]
</span></span><span style=display:flex><span>            j <span style=color:#f92672>-=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        nums[j <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> curr
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> nums
</span></span></code></pre></div><h3 id=merge-recursive>Merge, recursive</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>merge</span>(nums):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> len(nums) <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>1</span>:
</span></span><span style=display:flex><span>        mid <span style=color:#f92672>=</span> len(nums) <span style=color:#f92672>//</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>        left <span style=color:#f92672>=</span> nums[:mid]
</span></span><span style=display:flex><span>        right <span style=color:#f92672>=</span> nums[mid:]
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        merge(left)
</span></span><span style=display:flex><span>        merge(right)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        i <span style=color:#f92672>=</span> j <span style=color:#f92672>=</span> k <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> i <span style=color:#f92672>&lt;</span> len(left) <span style=color:#f92672>and</span> j <span style=color:#f92672>&lt;</span> len(right):
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> left[i] <span style=color:#f92672>&lt;</span> right[j]:
</span></span><span style=display:flex><span>                nums[k] <span style=color:#f92672>=</span> left[i]
</span></span><span style=display:flex><span>                i <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>                nums[k] <span style=color:#f92672>=</span> right[j]
</span></span><span style=display:flex><span>                j <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>            k <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> i <span style=color:#f92672>&lt;</span> len(left):
</span></span><span style=display:flex><span>            nums[k] <span style=color:#f92672>=</span> left[i]
</span></span><span style=display:flex><span>            i <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>            k <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> j <span style=color:#f92672>&lt;</span> len(right):
</span></span><span style=display:flex><span>            nums[k] <span style=color:#f92672>=</span> right[j]
</span></span><span style=display:flex><span>            j <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>            k <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> nums
</span></span></code></pre></div><h3 id=quick-sort-partition>Quick Sort, partition</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># nlogn pass, 2 pointers</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>quick</span>(nums):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>partition</span>(start, end):
</span></span><span style=display:flex><span>        <span style=color:#75715e># out of index</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> start <span style=color:#f92672>&gt;=</span> end: <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        pivot <span style=color:#f92672>=</span> nums[(start <span style=color:#f92672>+</span> end) <span style=color:#f92672>//</span> <span style=color:#ae81ff>2</span>]
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        l, r <span style=color:#f92672>=</span> start, end
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> l <span style=color:#f92672>&lt;=</span> r:
</span></span><span style=display:flex><span>            <span style=color:#75715e># move l to the first &gt; pivot</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>while</span> nums[l] <span style=color:#f92672>&lt;</span> pivot <span style=color:#f92672>and</span> l <span style=color:#f92672>&lt;=</span> r:
</span></span><span style=display:flex><span>                l <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>                
</span></span><span style=display:flex><span>            <span style=color:#75715e># move l to the first &lt; pivot</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>while</span> nums[r] <span style=color:#f92672>&gt;</span> pivot <span style=color:#f92672>and</span> l <span style=color:#f92672>&lt;=</span> r:
</span></span><span style=display:flex><span>                r <span style=color:#f92672>-=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>            <span style=color:#75715e># swap those &gt; and &lt;</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e># until l - 1 == r + 1</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> l <span style=color:#f92672>&lt;=</span> r:
</span></span><span style=display:flex><span>                nums[l], nums[r] <span style=color:#f92672>=</span> nums[r], nums[l]
</span></span><span style=display:flex><span>                l <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>                r <span style=color:#f92672>-=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># r is at the left of mid</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># l is at the right of mid</span>
</span></span><span style=display:flex><span>        partition(start, r)
</span></span><span style=display:flex><span>        partition(l, end)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    partition(<span style=color:#ae81ff>0</span>, len(nums) <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> nums
</span></span></code></pre></div><h1 id=select-insert-sort>Select, insert sort</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>select</span>(nums):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(len(nums)):
</span></span><span style=display:flex><span>        minIndex <span style=color:#f92672>=</span> nums[i:]<span style=color:#f92672>.</span>index(min(nums[i:]))
</span></span><span style=display:flex><span>        nums[i <span style=color:#f92672>+</span> minIndex], nums[i] <span style=color:#f92672>=</span> nums[i], nums[i <span style=color:#f92672>+</span> minIndex]
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> nums
</span></span></code></pre></div><h3 id=heap>Heap</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> heapq
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>heap</span>(nums):
</span></span><span style=display:flex><span>    heap <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> num <span style=color:#f92672>in</span> nums:
</span></span><span style=display:flex><span>        heapq<span style=color:#f92672>.</span>heappush(heap, num)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    res <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> _ <span style=color:#f92672>in</span> range(len(heap)):
</span></span><span style=display:flex><span>        res<span style=color:#f92672>.</span>append(heapq<span style=color:#f92672>.</span>heappop(heap))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> res
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>heap</span>(nums):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>hpush</span>(arr, val):
</span></span><span style=display:flex><span>        arr<span style=color:#f92672>.</span>append(val)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># swap node and its parent</span>
</span></span><span style=display:flex><span>        n <span style=color:#f92672>=</span> len(arr) <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        p <span style=color:#f92672>=</span> (n <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>//</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> p <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>and</span> arr[n] <span style=color:#f92672>&lt;</span> arr[p]:
</span></span><span style=display:flex><span>            arr[p], arr[n] <span style=color:#f92672>=</span> arr[n], arr[p]
</span></span><span style=display:flex><span>            n <span style=color:#f92672>=</span> p
</span></span><span style=display:flex><span>            p <span style=color:#f92672>=</span> (n <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>//</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>hpop</span>(arr):
</span></span><span style=display:flex><span>        top <span style=color:#f92672>=</span> arr[<span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>        arr[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>=</span> arr[<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># swap node and its child with min value </span>
</span></span><span style=display:flex><span>        p <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        l <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        r <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> l <span style=color:#f92672>&lt;</span> len(arr) <span style=color:#f92672>and</span> r <span style=color:#f92672>&lt;</span> len(arr) <span style=color:#f92672>and</span> arr[p] <span style=color:#f92672>&gt;</span> min(arr[l], arr[r]):
</span></span><span style=display:flex><span>            m <span style=color:#f92672>=</span> l <span style=color:#66d9ef>if</span> arr[l] <span style=color:#f92672>&lt;</span> arr[r] <span style=color:#66d9ef>else</span> r
</span></span><span style=display:flex><span>            arr[m], arr[p] <span style=color:#f92672>=</span> arr[p], arr[m]
</span></span><span style=display:flex><span>            p <span style=color:#f92672>=</span> m
</span></span><span style=display:flex><span>            l <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> p <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>            r <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> p <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        arr<span style=color:#f92672>.</span>pop()
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> top
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>    heap <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> num <span style=color:#f92672>in</span> nums:
</span></span><span style=display:flex><span>        hpush(heap, num)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    res <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> _ <span style=color:#f92672>in</span> range(len(heap)):
</span></span><span style=display:flex><span>        res<span style=color:#f92672>.</span>append(hpop(heap))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> res
</span></span></code></pre></div></div><div class=tags></div></div></div><div class="footer wrapper"><nav class=nav><div>2024 © Copyright Yingkui.com All Rights Reserved</div></nav></div><script>feather.replace()</script></body></html>